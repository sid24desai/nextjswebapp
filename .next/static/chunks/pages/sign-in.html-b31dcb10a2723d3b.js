(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[540],{3316:function(e,n,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/sign-in.html",function(){return i(5260)}])},5260:function(e,n,i){"use strict";i.r(n);var s=i(5893),t=i(9008),l=i.n(t),d=i(1664),r=i.n(d),a=i(7294),o=i(5021),u=i(9012);n.default=()=>{let{isInitialized:e,isAuthenticated:n,login:i,logout:t}=(0,u.Z)();console.log("useAuth() -> isAuthenticated: ",n),console.log("useAuth() -> isInitialized: ",e);let d=(0,a.useRef)(null),c=(0,a.useRef)(null),h=(0,a.useRef)(null),[p,x]=(0,a.useState)(!1),[f,g]=(0,a.useState)(""),[j,b]=(0,a.useState)(""),[m,y]=(0,a.useState)("");function dismissError(){y("")}function handleSubmit(e){e.preventDefault();let n=d.current,s=Array.prototype.slice.call(n.querySelectorAll("input"));if(!f)return y("Username is required"),!1;if(!j)return y("Password is required"),!1;s.forEach(e=>{e.disabled=!0});let t=new FormData,l={action:"login_check",user_name:f,user_password:j};for(let e in l)t.append(e,l[e]);i(t).then(function(e){console.log("Login Info: ",e);let{code:n,error:i}=e;return -1==n?(s.forEach(e=>{e.disabled=!1}),y("ERROR: "+n+": "+i+"!"),!1):200==n?(s.forEach(e=>{e.disabled=!1}),x(!0),y(""),!1):401==n||419==n?(s.forEach(e=>{e.disabled=!1}),y("ERROR: "+n+": "+i+"!"),!1):void 0})}function handleUserChange(e){g(e.target.value)}function handlePassChange(e){b(e.target.value)}function signOut(e){e.preventDefault(),t(),x(!1)}return(0,a.useEffect)(()=>{n?x(!0):x(!1)},[p,n]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l(),{children:(0,s.jsx)("title",{children:"Sign In"})}),(0,s.jsx)(o.Z,{pageTitle:"Sign In",contentComponent:(0,s.jsx)(s.Fragment,{children:p?(0,s.jsxs)("div",{children:[(0,s.jsx)(r(),{href:"/dashboard/index.html",children:"Go to dashboard"}),"  | ",(0,s.jsx)("a",{href:"#",onClick:signOut,children:"Sign out"})]}):(0,s.jsxs)("div",{ref:d,children:[(0,s.jsxs)("p",{children:["Test Account: ",(0,s.jsx)("code",{children:"admin"})," Password: ",(0,s.jsx)("code",{children:"admin"})]}),(0,s.jsxs)("form",{onSubmit:handleSubmit.bind(void 0),children:[(0,s.jsxs)("div",{style:{padding:"5px"},children:[(0,s.jsx)("label",{style:{padding:"10px",display:"inline-block",width:"100px"},children:"Username"}),(0,s.jsx)("input",{ref:c,type:"text",value:f,onChange:handleUserChange})]}),(0,s.jsxs)("div",{style:{padding:"5px"},children:[(0,s.jsx)("label",{style:{padding:"10px",display:"inline-block",width:"100px"},children:"Password"}),(0,s.jsx)("input",{ref:h,type:"password",value:j,onChange:handlePassChange})]}),(0,s.jsxs)("div",{style:{padding:"5px"},children:[(0,s.jsx)("label",{style:{padding:"10px",display:"inline-block",width:"100px"}}),(0,s.jsx)("input",{style:{padding:"7px 25px",background:"#191919",outline:"none",color:"#fff",borderRadius:"30px",border:"none",fontSize:"14px"},type:"submit",value:"Log In"})]}),(0,s.jsxs)("div",{style:{padding:"5px"},children:[(0,s.jsx)("label",{style:{padding:"10px",display:"inline-block",width:"100px"}}),m&&(0,s.jsxs)("span",{onClick:dismissError,children:[m,", ",(0,s.jsx)("a",{href:"#",onClick:dismissError,children:"back"})]})]})]})]})})})]})}},9012:function(e,n,i){"use strict";var s=i(7294),t=i(8002);n.Z=()=>(0,s.useContext)(t.Z)}},function(e){e.O(0,[61,21,774,888,179],function(){return e(e.s=3316)}),_N_E=e.O()}]);