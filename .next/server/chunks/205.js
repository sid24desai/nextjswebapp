exports.id=205,exports.ids=[205],exports.modules={7121:e=>{e.exports={modal:"styles_modal__i8awT","modal-content":"styles_modal-content__1hInY","modal-flex":"styles_modal-flex__rzvaE","modal-close":"styles_modal-close__n532z"}},6673:(e,t,l)=>{"use strict";l.d(t,{Z:()=>Datalist});var a=l(997),n=l(6689),d=l(2038),i=l(7121),s=l.n(i);function Modal(e){let{show:t,modalId:l,targetId:n,title:d,content:i,showClickEvent:r,closeClickEvent:o,gotoIdClickEvent:c}=e;function handleShow(e){e.preventDefault(),"function"==typeof c&&c(n),"function"==typeof r&&r()}function handleClose(e){e.preventDefault(),e.stopPropagation(),"function"==typeof o&&o()}return(0,a.jsxs)(a.Fragment,{children:[a.jsx("a",{className:s()["modal-trigger"],href:"#",onClick:handleShow,children:d}),a.jsx("div",{id:l,className:s().modal,onClick:handleClose,style:{display:t?"flex":"none"},children:(0,a.jsxs)("div",{className:s()["modal-content"],onClick:e=>e.stopPropagation(),children:[a.jsx("a",{href:"#",className:s()["modal-close"],onClick:handleClose,children:"\xd7"}),a.jsx("div",{className:s()["modal-flex"],children:a.jsx("div",{children:i})})]})})]})}function detailTable(e="",t="",l="",n=""){return a.jsx("table",{children:(0,a.jsxs)("tbody",{children:[(0,a.jsxs)("tr",{style:{display:""!=e?"table-row":"none"},children:[a.jsx("td",{width:"138",align:"right",children:a.jsx("strong",{children:"ID: "})}),a.jsx("td",{children:e})]}),(0,a.jsxs)("tr",{children:[a.jsx("td",{width:"138",align:"right",children:a.jsx("strong",{children:"Name: "})}),a.jsx("td",{children:t})]}),(0,a.jsxs)("tr",{children:[a.jsx("td",{width:"138",align:"right",children:a.jsx("strong",{children:"Email: "})}),a.jsx("td",{children:l})]}),(0,a.jsxs)("tr",{children:[a.jsx("td",{width:"138",align:"right",children:a.jsx("strong",{children:"Avatar: "})}),a.jsx("td",{children:n})]})]})})}let Datalist=()=>{let[e,t]=(0,n.useState)([]),[l,i]=(0,n.useState)({display:!1,content:"loading..."}),[s,r]=(0,n.useState)({display:!1,content:"loading..."}),[o,c]=(0,n.useState)({display:!1,content:"loading...",fieldName:"",fieldEmail:"",fieldAvatar:""});async function getAll(){t((await d.Z.getAll()).data.data)}async function get(e){let t=await d.Z.get(e),n=t.data.data;i({display:!l.display,content:detailTable(n.id,n.name,n.email,a.jsx(a.Fragment,{children:a.jsx("img",{src:n.avatar,width:"100"})}))})}let h=(0,n.useCallback)(e=>t=>{t.preventDefault(),console.log("detail id: ",e),get(e)},[]);function handleAddForm(e){e.preventDefault();let t=(0,a.jsxs)("form",{tabIndex:-1,method:"post",style:{padding:"20px"},children:[detailTable(!1,a.jsx(a.Fragment,{children:a.jsx("input",{type:"text",size:20,name:"name"})}),a.jsx(a.Fragment,{children:a.jsx("input",{type:"text",size:20,name:"email"})}),a.jsx(a.Fragment,{children:a.jsx("input",{type:"text",size:35,name:"avatar",placeholder:"http://"})})),a.jsx("input",{style:{padding:"5px 15px",background:"rgb(57 57 57)",outline:"none",color:"#fff",borderRadius:"30px",border:"none",fontSize:"12px",marginLeft:"142px"},type:"button",value:"Submit",onClick:p("add")})]});r({display:!0,content:t})}async function getUpdateId(e){let t=await d.Z.get(e),l=t.data.data,n=(0,a.jsxs)("form",{tabIndex:-1,style:{padding:"20px"},children:[detailTable(!1,a.jsx(a.Fragment,{children:a.jsx("input",{type:"text",size:20,name:"name",defaultValue:l.name})}),a.jsx(a.Fragment,{children:a.jsx("input",{type:"email",size:20,name:"email",defaultValue:l.email})}),a.jsx(a.Fragment,{children:a.jsx("input",{type:"text",size:35,name:"avatar",placeholder:"http://",defaultValue:l.avatar})})),a.jsx("input",{style:{padding:"5px 15px",background:"rgb(57 57 57)",outline:"none",color:"#fff",borderRadius:"30px",border:"none",fontSize:"12px",marginLeft:"142px"},type:"button",value:"Update",onClick:p("edit",e)})]});c({display:!o.display,content:n,fieldName:l.name,fieldEmail:l.email,fieldAvatar:l.avatar})}let x=(0,n.useCallback)(e=>t=>{t.preventDefault(),console.log("update id: ",e),getUpdateId(e)},[]);async function remove(e){200===(await d.Z.remove(e)).data.code&&getAll()}function handleDelete(e){console.log("delete id: ",e),remove(e)}let p=(0,n.useCallback)((e,t="")=>l=>{l.preventDefault();let a=l.target.closest("form"),n=Array.prototype.slice.call(a.querySelectorAll("input")),i={};n.forEach(e=>{"button"!==e.type&&(i[e.name]=e.value)}),n.forEach(e=>{e.disabled=!0});let s=new FormData,o={action:"add"===e?"add_new_post":"add_edit_post",...i};for(let e in console.log("formData: ",o),o)s.append(e,o[e]);let refreshList=()=>{n.forEach(e=>{e.value="",e.disabled=!1}),getAll()};"add"===e&&d.Z.create(s).then(e=>{200===e.data.code&&(r({display:!1}),refreshList())}),"edit"===e&&d.Z.update(t,s).then(e=>{200===e.data.code&&(c({display:!1}),refreshList())})},[]);return(0,n.useEffect)(()=>{getAll()},[]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("h4",{children:["Data \xa0\xa0\xa0\xa0",a.jsx("a",{style:{padding:"7px 25px",background:"#191919",outline:"none",color:"#fff",borderRadius:"30px",border:"none",fontSize:"14px",textDecoration:"none"},href:"#",onClick:handleAddForm,children:"Add New"})]}),a.jsx("hr",{}),a.jsx("ul",{children:e?e.map(e=>(0,a.jsxs)("li",{children:[(0,a.jsxs)("a",{href:"#",onClick:h(e.id),children:["(",e.id,") ",e.name," - ",e.email]}),(0,a.jsxs)("div",{style:{float:"right"},children:[a.jsx("a",{href:"#",onClick:x(e.id),children:a.jsx("svg",{version:"1.1",height:"15",x:"0px",y:"0px",viewBox:"0 0 1000 1000",enableBackground:"new 0 0 1000 1000",xmlSpace:"preserve",children:(0,a.jsxs)("g",{children:[a.jsx("path",{d:"M470.1,744.4L277.9,552.2L797.8,32.3L990,224.5L470.1,744.4z M345.9,552.2l124.3,124.3l452-452L797.8,100.2L345.9,552.2z"}),a.jsx("path",{d:"M238.6,576l207.6,207.6l-222.4,14.8L238.6,576z"}),a.jsx("path",{d:"M889.6,967.7H10V75h524.4v48H58v796.6h783.6V521.4h48V967.7z"})]})})}),"\xa0\xa0",a.jsx(Modal,{modalId:"modal-del-"+e.id,targetId:e.id,title:a.jsx(a.Fragment,{children:a.jsx("svg",{height:"15",version:"1.1",x:"0px",y:"0px",viewBox:"0 0 1000 1000",enableBackground:"new 0 0 1000 1000",xmlSpace:"preserve",children:a.jsx("g",{children:a.jsx("path",{d:"M653.1,867.5c16.8,0,30.6-13.8,30.6-30.6V469.4c0-16.8-13.8-30.6-30.6-30.6c-16.8,0-30.6,13.8-30.6,30.6v367.5C622.5,853.7,636.3,867.5,653.1,867.5z M346.9,867.5c16.8,0,30.6-13.8,30.6-30.6V469.4c0-16.8-13.8-30.6-30.6-30.6s-30.6,13.8-30.6,30.6v367.5C316.3,853.7,330,867.5,346.9,867.5z M836.9,132.5H653.1V71.3c0-33.7-27.6-61.3-61.3-61.3H408.1c-33.7,0-61.3,27.6-61.3,61.3v61.3H163.1c-33.7,0-61.3,27.6-61.3,61.3V255c0,33.7,27.6,61.3,61.3,61.3v551.3c0,67.4,55.1,122.5,122.5,122.5h428.8c67.4,0,122.5-55.1,122.5-122.5V316.3c33.7,0,61.3-27.6,61.3-61.3v-61.2C898.1,160.1,870.6,132.5,836.9,132.5z M408.1,101.9c0-16.8,13.8-30.6,30.6-30.6h122.5c16.8,0,30.6,13.8,30.6,30.6v30.6c-29.9,0-183.8,0-183.8,0V101.9z M775.6,867.5c0,33.7-27.6,61.3-61.3,61.3H285.6c-33.7,0-61.3-27.6-61.3-61.3V316.3h551.3V867.5z M806.3,255H193.8c-16.8,0-30.6-13.8-30.6-30.6s13.8-30.6,30.6-30.6h612.5c16.8,0,30.6,13.8,30.6,30.6S823.1,255,806.3,255z M500,867.5c16.8,0,30.6-13.8,30.6-30.6V469.4c0-16.8-13.8-30.6-30.6-30.6s-30.6,13.8-30.6,30.6v367.5C469.4,853.7,483.2,867.5,500,867.5z"})})})}),content:a.jsx(a.Fragment,{children:(0,a.jsxs)("p",{children:["You will delete this post via ID ",e.id,". ",a.jsx("br",{}),a.jsx("a",{href:"#",onClick:t=>{t.preventDefault(),handleDelete(e.id)},children:"Are you sure?"})]})}),showClickEvent:()=>{let t=document.querySelector("#modal-del-"+e.id);t.style.display="flex"},closeClickEvent:()=>{let t=document.querySelector("#modal-del-"+e.id);t.style.display="none"}})]})]},e.id)):a.jsx(a.Fragment,{children:"Loading..."})}),a.jsx(Modal,{show:l.display,modalId:"modal-detail-container",targetId:9997,title:null,content:l.content,closeClickEvent:()=>{i({display:!1})}}),a.jsx(Modal,{show:s.display,modalId:"modal-form-add-container",targetId:9998,title:null,content:s.content,closeClickEvent:()=>{r({display:!1})}}),a.jsx(Modal,{show:o.display,modalId:"modal-form-edit-container",targetId:9999,title:null,content:o.content,closeClickEvent:()=>{c({display:!1})}})]})}},9299:(e,t,l)=>{"use strict";l.d(t,{Z:()=>Dashboard_Userinfo});var a=l(997),n=l(6689),d=l(2167),i=l.n(d),s=l(9437),r=l.n(s);function authHeader(){let e=JSON.parse(localStorage.getItem("SITE_DATA_AUTH"));return e&&e.token?{Authorization:"Bearer "+e.token}:{}}let o=authHeader;var c=l(9170),h=l.n(c);function isAdmin(){let e=h().return("getCookie","SITE_DATA_LOGIN_COOKIE");return(null==e||0==e)&&localStorage.removeItem("SITE_DATA_AUTH"),"{}"!==JSON.stringify(o())}let x=isAdmin;let UserService=class UserService{constructor(){this.url=r().USER_AUTHENTICATE,this.config={}}deveProcess(e,t){return{curUrl:e,curConfig:t}}getUserName(){if(!x())return null;this.config={headers:{...o(),"Content-Type":"application/json"}};let{curUrl:e}=this.deveProcess(this.url,this.config),{curConfig:t}=this.deveProcess(this.url,this.config);return i().post(e,{},t).then(function(e){let t=e.data;return t.data?t.data.name:null})}};let p=new UserService,Dashboard_Userinfo=()=>{let[e,t]=(0,n.useState)("");return(0,n.useEffect)(()=>{p.getUserName()?.then(function(e){t(e)})},[]),a.jsx(a.Fragment,{children:""!==e?(0,a.jsxs)(a.Fragment,{children:[a.jsx("p",{style:{color:"green"},children:"âˆš You need to be authorized after successful login to see this information."}),(0,a.jsxs)("p",{children:["Your user name is: ",a.jsx("code",{children:e})]}),a.jsx("hr",{})]}):null})}},9012:(e,t,l)=>{"use strict";l.d(t,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var a=l(6689),n=l(8002);let __WEBPACK_DEFAULT_EXPORT__=()=>(0,a.useContext)(n.Z)}};